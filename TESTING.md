# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## 1. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–µ–≥–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –∫—É—Ä—Å–∞: `/courses/create`
2. –£–≤–∏–¥–∏—Ç–µ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –∏–∫–æ–Ω–∫–∞–º–∏
3. –£–≤–∏–¥–∏—Ç–µ multi-select —Å —Ç–µ–≥–∞–º–∏ (—É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ Ctrl –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö)
4. –°–æ–∑–¥–∞–π—Ç–µ –∫—É—Ä—Å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ" –∏ —Ç–µ–≥–∞–º–∏ "PHP", "Laravel"
5. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫—É—Ä—Å–∞ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:
   - –¶–≤–µ—Ç–Ω–∞—è badge –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∏–∫–æ–Ω–∫–æ–π
   - –¢–µ–≥–∏ –≤ –≤–∏–¥–µ —Å–µ—Ä—ã—Ö badges

### –ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ—Ç:
```bash
php artisan db:seed --class=CategoriesAndTagsSeeder
```

---

## 2. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —É—Ä–æ–∫–∞–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —É—Ä–æ–∫ –∫—É—Ä—Å–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∑–∞–ø–∏—Å–∞–Ω—ã
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ - –ø–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —É—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–µ–∫—Ü–∏—è "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"
3. –ï—Å–ª–∏ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã - —É–≤–∏–¥–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
4. –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –Ω–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"
5. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å –≤–∞—à–∏–º –∏–º–µ–Ω–µ–º –∏ –≤—Ä–µ–º–µ–Ω–µ–º

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:
```bash
php artisan migrate
```

---

## 3. Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Mailtrap):

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [mailtrap.io](https://mailtrap.io)
2. –ü–æ–ª—É—á–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ SMTP
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```env
MAIL_MAILER=smtp
MAIL_HOST=sandbox.smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=–≤–∞—à_username
MAIL_PASSWORD=–≤–∞—à_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@edupoint.test
MAIL_FROM_NAME="EduPoint"

QUEUE_CONNECTION=database
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ worker –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
php artisan queue:work
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞:

**–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∏–ª–∏ –∞–¥–º–∏–Ω
2. –°–æ–∑–¥–∞–π—Ç–µ –∫—É—Ä—Å –∏ –∑–∞–ø–∏—à–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
3. –î–æ–±–∞–≤—å—Ç–µ —É—Ä–æ–∫ –≤ —ç—Ç–æ—Ç –∫—É—Ä—Å —á–µ—Ä–µ–∑ `/courses/{course}/lessons/create`
4. –°—Ç—É–¥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å:
   - Email –≤ Mailtrap (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ inbox)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–∫—Ä–∞—Å–Ω–∞—è badge –Ω–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–µ)
5. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ - –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –∏—Å—á–µ–∑–Ω—É—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç—å —É—Ä–æ–∫

**–°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ tinker**
```bash
php artisan tinker
```
```php
$user = User::find(1); // ID —Å—Ç—É–¥–µ–Ω—Ç–∞
$course = Course::find(1); // ID –∫—É—Ä—Å–∞
$lesson = Lesson::find(1); // ID —É—Ä–æ–∫–∞

$user->notify(new \App\Notifications\NewLessonPublished($lesson, $course));
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- Mailtrap inbox (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–∏—Å—å–º–æ)
- `/` –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫—Ä–∞—Å–Ω–∞—è badge –Ω–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–µ)

### –û—Ç–ª–∞–¥–∫–∞:

**–ï—Å–ª–∏ worker –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
php artisan queue:failed  # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å failed jobs
php artisan queue:retry all  # –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å–µ failed jobs
```

**–ï—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:**
```bash
tail -f storage/logs/laravel.log  # –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```bash
php artisan config:clear
php artisan cache:clear
```

---

## 4. –ú–æ–¥—É–ª–∏ –∫—É—Ä—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è —á–µ—Ä–µ–∑ tinker:
```bash
php artisan tinker
```
```php
$course = Course::find(1);

$module1 = $course->modules()->create([
    'title' => '–ú–æ–¥—É–ª—å 1: –í–≤–µ–¥–µ–Ω–∏–µ',
    'description' => '–û—Å–Ω–æ–≤—ã –∏ –≤–≤–µ–¥–µ–Ω–∏–µ –≤ –∫—É—Ä—Å',
    'order' => 1
]);

$module2 = $course->modules()->create([
    'title' => '–ú–æ–¥—É–ª—å 2: –ü—Ä–∞–∫—Ç–∏–∫–∞',
    'description' => '–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è',
    'order' => 2
]);

// –ü—Ä–∏–≤—è–∑–∞—Ç—å —É—Ä–æ–∫ –∫ –º–æ–¥—É–ª—é
$lesson = Lesson::find(1);
$lesson->update(['module_id' => $module1->id]);

// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—Ä–æ–∫–∏ –º–æ–¥—É–ª—è
$module1->lessons;
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** UI –¥–ª—è –º–æ–¥—É–ª–µ–π –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

---

## 5. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```bash
php artisan tinker
```

```php
// 1. –°–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–µ–≥–∏ (–µ—Å–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã)
Artisan::call('db:seed', ['--class' => 'CategoriesAndTagsSeeder']);

// 2. –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
$teacher = User::create([
    'name' => '–ò–≤–∞–Ω –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å',
    'email' => 'teacher@test.com',
    'password' => bcrypt('password'),
    'role' => 'teacher'
]);

// 3. –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
$student = User::create([
    'name' => '–ú–∞—Ä–∏—è –°—Ç—É–¥–µ–Ω—Ç–∫–∞',
    'email' => 'student@test.com',
    'password' => bcrypt('password'),
    'role' => 'student'
]);

// 4. –°–æ–∑–¥–∞–µ–º –∫—É—Ä—Å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –∏ —Ç–µ–≥–∞–º–∏
$course = Course::create([
    'title' => '–¢–µ—Å—Ç–æ–≤—ã–π –∫—É—Ä—Å Laravel',
    'description' => '–ü–æ–ª–Ω—ã–π –∫—É—Ä—Å –ø–æ Laravel –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
    'teacher_id' => $teacher->id,
    'category_id' => 1, // –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
]);
$course->tags()->attach([1, 2, 3]); // PHP, Laravel, Web

// 5. –°–æ–∑–¥–∞–µ–º –º–æ–¥—É–ª–∏
$module1 = $course->modules()->create([
    'title' => '–ú–æ–¥—É–ª—å 1: –û—Å–Ω–æ–≤—ã',
    'description' => '–í–≤–µ–¥–µ–Ω–∏–µ –≤ Laravel',
    'order' => 1
]);

// 6. –°–æ–∑–¥–∞–µ–º —É—Ä–æ–∫ –≤ –º–æ–¥—É–ª–µ
$lesson = Lesson::create([
    'course_id' => $course->id,
    'module_id' => $module1->id,
    'title' => '–ü–µ—Ä–≤—ã–π —É—Ä–æ–∫',
    'content' => '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–∫–∞',
    'order' => 1,
    'is_free' => true
]);

// 7. –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞ –∫—É—Ä—Å
$course->enrollments()->create([
    'user_id' => $student->id,
    'enrolled_at' => now()
]);

// 8. –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
$lesson->comments()->create([
    'user_id' => $student->id,
    'comment' => '–û—Ç–ª–∏—á–Ω—ã–π —É—Ä–æ–∫! –°–ø–∞—Å–∏–±–æ!'
]);

echo "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã!\n";
echo "–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: teacher@test.com / password\n";
echo "–°—Ç—É–¥–µ–Ω—Ç: student@test.com / password\n";
echo "–ö—É—Ä—Å ID: {$course->id}\n";
echo "–£—Ä–æ–∫ ID: {$lesson->id}\n";
```

### –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:

1. **–í–æ–π—Ç–∏ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç** (`student@test.com / password`)
   - –û—Ç–∫—Ä—ã—Ç—å –∫—É—Ä—Å
   - –û—Ç–∫—Ä—ã—Ç—å —É—Ä–æ–∫
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω queue)

2. **–í–æ–π—Ç–∏ –∫–∞–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å** (`teacher@test.com / password`)
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫—É—Ä—Å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –∏ —Ç–µ–≥–∞–º–∏
   - –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫ (–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

---

## 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ MySQL/phpMyAdmin:

```sql
-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
SELECT * FROM categories;

-- –¢–µ–≥–∏
SELECT * FROM tags;

-- –ö—É—Ä—Å—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
SELECT c.title, cat.name as category 
FROM courses c 
LEFT JOIN categories cat ON c.category_id = cat.id;

-- –¢–µ–≥–∏ –∫—É—Ä—Å–æ–≤
SELECT c.title, t.name as tag 
FROM courses c
JOIN course_tag ct ON c.id = ct.course_id
JOIN tags t ON ct.tag_id = t.id;

-- –ú–æ–¥—É–ª–∏
SELECT * FROM course_modules ORDER BY course_id, `order`;

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
SELECT lc.comment, u.name, l.title as lesson, lc.created_at
FROM lesson_comments lc
JOIN users u ON lc.user_id = u.id
JOIN lessons l ON lc.lesson_id = l.id
ORDER BY lc.created_at DESC;

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
SELECT n.type, n.data, u.name, n.read_at, n.created_at
FROM notifications n
JOIN users u ON n.notifiable_id = u.id
ORDER BY n.created_at DESC;
```

### –ß–µ—Ä–µ–∑ artisan tinker:

```php
// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
Category::count();

// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤
Tag::count();

// –ö—É—Ä—Å—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
Course::with('category')->get();

// –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
LessonComment::with(['user', 'lesson'])->get();

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5)
\App\Models\User::find(1)->notifications->take(5);

// –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
\App\Models\User::find(1)->unreadNotifications;
```

---

## 7. –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

### "Class 'App\Notifications\NewLessonPublished' not found"
```bash
composer dump-autoload
```

### "SQLSTATE[42S02]: Base table or view not found"
```bash
php artisan migrate
```

### "Target class [CategoriesAndTagsSeeder] does not exist"
```bash
composer dump-autoload
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` (MAIL_* –∏ QUEUE_CONNECTION)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `php artisan queue:work`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `php artisan queue:failed`
4. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `tail -f storage/logs/laravel.log`

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞: `php artisan migrate:status`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–≤—è–∑—å `comments()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

---

## 8. –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –≤—Å–µ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
php artisan migrate:fresh --seed

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/—Ç–µ–≥–∏
php artisan db:seed --class=CategoriesAndTagsSeeder --force
```

---

**–£—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ**
